<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [第二章 进程](#第二章-进程)
- [第三章 内存管理](#第三章-内存管理)

<!-- /code_chunk_output -->


## 第二章 进程
----

- 进程：包括正在执行程序的实例、寄存器、PC程序计数器和变量的值等。
    守护进程（daemon）/后台进程：当请求到来是被唤醒。


## 第三章 内存管理
----

程序直接使用物理地址（绝对地址）是危险的，可能会破坏操作系统或其他程序，所以多任务很难实现。

$\Longrightarrow$ 引入地址空间，每个程序有自己的空间：
1. 基址和界限寄存器：每条指令执行前都加上基址，然后判断是否超过界限。

2. 交换：切换任务时交换内存和ROM中的内容。速度慢。

3. 虚拟内存：每个进程都有自己独立的虚拟地址空间，需要MMU（Memory Management Unit）内存管理单元（内含一个页表），把虚拟内存地址映射为物理内存地址。（进程大小可能超过物理内存大小，或为了实现多任务，每个进程只能占有一部分物理内存）。
![地址映射](pic/%E5%9C%B0%E5%9D%80%E6%98%A0%E5%B0%84.png)
![MMU](pic/MMU.png)
    缺页中断（page fault）时会陷入内核，由操作系统寻找对应的磁盘地址。`os如何做到？`

